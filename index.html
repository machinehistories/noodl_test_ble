<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="noodl-app.png">
    <title>Noodl Viewer</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            user-select: none;
            background-color: black;
        }

        img {
            -webkit-user-drag: none;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: rgba(0,0,0,0);
            cursor: default;
        }

    </style>
</head>
<body>
<noscript>
    You need to enable JavaScript to run this app.
</noscript>

<div id="root" style="display: flex; width:100vw; height: 100vh; overflow: hidden"></div>

<script src="react.production.min.js"></script>
<script src="react-dom.production.min.js"></script>



<script type="application/javascript">
    window.__noodl_modules = [];
    window.Noodl = {
        defineModule:function(m) {
            window.__noodl_modules.push(m);
        }
    }
    window.projectData = {"settings":{},"components":[{"name":"/Main","nodes":[{"id":"118f4390-5c9e-2a44-78ef-29b881bb129a","type":"/AccTest","parameters":{},"ports":[],"children":[]}],"connections":[],"ports":[],"roots":["118f4390-5c9e-2a44-78ef-29b881bb129a"]},{"name":"/AccTest","nodes":[{"id":"eacc74e7-4dce-2baf-354b-8070e2b2b872","type":"Group","parameters":{"backgroundColor":"#FFFFFF"},"ports":[{"name":"width","type":{"name":"number","units":["%","px","vw"],"defaultUnit":"%"},"plug":"input","group":"Dimensions","displayName":"Width","default":"100","index":2},{"name":"height","type":{"name":"number","units":["%","px","vh"],"defaultUnit":"%"},"plug":"input","group":"Dimensions","displayName":"Height","default":"100","index":3},{"name":"borderWidth","type":{"name":"number","units":["px"],"defaultUnit":"px"},"plug":"input","group":"Style","displayName":"Border Width","default":0,"index":353},{"name":"borderColor","type":"color","plug":"input","group":"Style","displayName":"Border Color","index":354}],"children":[{"id":"45cbbc7f-bf6a-7c6c-b286-4706ee8e1bd3","type":"Group","parameters":{"sizeMode":"contentSize","flexWrap":"nowrap"},"ports":[{"name":"borderWidth","type":{"name":"number","units":["px"],"defaultUnit":"px"},"plug":"input","group":"Style","displayName":"Border Width","default":0,"index":353},{"name":"borderColor","type":"color","plug":"input","group":"Style","displayName":"Border Color","index":354}],"children":[{"id":"8a0ef493-230d-cdb2-1c43-d9f7f12e266e","type":"Circle","parameters":{"fillColor":"#28A630"},"ports":[],"children":[]},{"id":"a1bd8c9c-4bab-a341-e8af-2748a2a6dc59","type":"Text","parameters":{"position":"absolute","alignX":"center","alignY":"center","sizeMode":"contentSize","text":"Connect!"},"ports":[],"children":[]}]},{"id":"ead5d99d-9dce-6db5-2607-d8aa74154bab","type":"Group","parameters":{"sizeMode":"contentSize"},"ports":[{"name":"borderWidth","type":{"name":"number","units":["px"],"defaultUnit":"px"},"plug":"input","group":"Style","displayName":"Border Width","default":0,"index":353},{"name":"borderColor","type":"color","plug":"input","group":"Style","displayName":"Border Color","index":354}],"children":[{"id":"6018de88-1558-4235-0940-e55ad77208ae","type":"Circle","parameters":{},"ports":[],"children":[]},{"id":"23941052-b006-5dfc-b7ad-626d66be6e49","type":"Text","parameters":{"position":"absolute","alignX":"center","alignY":"center","sizeMode":"contentSize","text":"disconnect!"},"ports":[],"children":[]}]},{"id":"0608c0c3-1c51-d59c-6756-c5b1349a3e99","type":"Group","parameters":{"sizeMode":"contentHeight"},"ports":[{"name":"width","type":{"name":"number","units":["%","px","vw"],"defaultUnit":"%"},"plug":"input","group":"Dimensions","displayName":"Width","default":"100","index":2},{"name":"borderWidth","type":{"name":"number","units":["px"],"defaultUnit":"px"},"plug":"input","group":"Style","displayName":"Border Width","default":0,"index":353},{"name":"borderColor","type":"color","plug":"input","group":"Style","displayName":"Border Color","index":354}],"children":[{"id":"37d2973c-cf2f-b422-6be2-03e026bcfdb3","type":"Text","parameters":{},"ports":[{"name":"width","type":{"name":"number","units":["%","px","vw"],"defaultUnit":"%"},"plug":"input","group":"Dimensions","displayName":"Width","default":"100","index":2}],"children":[]},{"id":"adda1db3-c1c8-87f8-e69d-3e281c54fd04","type":"Text","parameters":{},"ports":[{"name":"width","type":{"name":"number","units":["%","px","vw"],"defaultUnit":"%"},"plug":"input","group":"Dimensions","displayName":"Width","default":"100","index":2}],"children":[]},{"id":"94b8cadb-d73b-fc34-aeda-e777c7a86a15","type":"Text","parameters":{},"ports":[{"name":"width","type":{"name":"number","units":["%","px","vw"],"defaultUnit":"%"},"plug":"input","group":"Dimensions","displayName":"Width","default":"100","index":2}],"children":[]}]}]},{"id":"82a98ee7-7a11-c3f3-69b8-8cb2b9c71c37","type":"Javascript2","parameters":{"code":"    //ボタンサービス\n    const UUID_Button_Service                         = \"E95D9882251D470AA062FA1922DFA9A8\";\n    const UUID_Button_A_Service_CHARACTERISTICS       = \"E95DDA90251D470AA062FA1922DFA9A8\";\n    const UUID_Button_B_Service_CHARACTERISTICS       = \"E95DDA91251D470AA062FA1922DFA9A8\";\n    \n    var accelerometer_device;\n    var accelerometer_characteristic;\n    \n    //micro:bit BLE UUID\n    var ACCELEROMETERSERVICE_SERVICE_UUID       = 'e95d0753-251d-470a-a062-fa1922dfa9a8';\n    var ACCELEROMETERDATA_CHARACTERISTIC_UUID   = 'e95dca4b-251d-470a-a062-fa1922dfa9a8';\n    \n    var accX,accY,accZ;\n    \n    \ndefine({\n\t// The input ports of the Javascript node, name of input and type\n\tinputs:{\n\t    // ExampleInput:'number',\n\t    // Available types are 'number', 'string', 'boolean', 'color' and 'signal',\n\t    connect:'signal',\n\t    disconnect:'signal',\n\t    mySignal:\"signal\"\n\t},\n\t\n\t// The output ports of the Javascript node, name of output and type\n\toutputs:{\n\t    // ExampleOutput:'string',\n\t    accX: \"number\",\n\t    accY: \"number\",\n\t    accZ: \"number\"\n\t},\n\t\n\t// All signal inputs need their own function with the corresponding name that\n\t// will be run when a signal is received on the input.\n\tmySignal:function(inputs,outputs) {\n\t\t// ...\n\t},\n\t\n\t// This function will be called when any of the inputs have changed\n\tchange:function(inputs,outputs) {\n\t\tif(inputs.connect){\n\t\t    connect();\n\t\t}\n\t   \n\n\t\tif(inputs.disconnect){\n\t\t    disconnect();\n\t\t}\n\t\t\n\t\tthis.runNextFrame();\n\t\toutputs.accX = accX;\n\t    this.flagOutputDirty(\"accX\");\n\t    outputs.accY = accY;\n\t    this.flagOutputDirty(\"accY\");\n\t    outputs.accZ = accZ;\n\t    this.flagOutputDirty(\"accZ\");\n\t\t\n\t}\n})\n\nfunction connect() {  \n  navigator.bluetooth.requestDevice({\n    filters: [{\n      namePrefix: 'BBC micro:bit',\n    }],\n    optionalServices: [ACCELEROMETERSERVICE_SERVICE_UUID],\n    \n  })\n  .then(device => {\n    accelerometer_device = device;\n    console.log(\"device\", device);\n    return device.gatt.connect();\n  })\n  //ACCELEROMETER\n  .then(server =>{\n    console.log(\"server\", server)\n    return server.getPrimaryService(ACCELEROMETERSERVICE_SERVICE_UUID);\n  })\n  .then(service => {\n    console.log(\"service\", service)\n    return service.getCharacteristic(ACCELEROMETERDATA_CHARACTERISTIC_UUID)\n  })\n  .then(chara => {\n    console.log(\"ACCELEROMETER:\", chara)\n    console.log(\"BLE connection completed\");\n    characteristic = chara;\n    characteristic.startNotifications();\n    characteristic.addEventListener('characteristicvaluechanged',onAccelerometerValueChanged);\n    characteristic.writeValue(value);\n  })  \n  .catch(error => {\n    console.log(\"BLE Connection failed. Please try again\");\n    console.log(error);\n  });    \n}\n\nfunction onAccelerometerValueChanged(event) {\n    AcceleratorX = event.target.value.getUint16(0)/1000.0;\n    console.log('x:' + AcceleratorX);\n    // document.js.x.value = AcceleratorX;\n    accX = AcceleratorX;\n    \n    AcceleratorY = event.target.value.getUint16(2)/1000.0;\n    console.log('y:' + AcceleratorY);\n    // document.js.y.value = AcceleratorY;\n    accY = AcceleratorY;\n\n    AcceleratorZ = event.target.value.getUint16(4)/1000.0;\n    console.log('z:' + AcceleratorZ);\n    // document.js.z.value = AcceleratorZ;\n    accZ = AcceleratorZ;\n} \n\nfunction disconnect() {\n  if (!accelerometer_device || !accelerometer_device.gatt.connected) return ;\n  accelerometer_device.gatt.disconnect();\n  console.log(\"BLE connection has been disconnected\")\n}\n\n\n","useExternalFile":"no","externalFile":"bluejelly.js"},"ports":[{"name":"code","type":{"name":"string","allowEditOnly":true,"codeeditor":"javascript"},"plug":"input","group":"Code","displayName":"Code","default":"define({\n\t// The input ports of the Javascript node, name of input and type\n\tinputs:{\n\t    // ExampleInput:'number',\n\t    // Available types are 'number', 'string', 'boolean', 'color' and 'signal',\n\t    mySignal:'signal',\n\t},\n\t\n\t// The output ports of the Javascript node, name of output and type\n\toutputs:{\n\t    // ExampleOutput:'string',\n\t},\n\t\n\t// All signal inputs need their own function with the corresponding name that\n\t// will be run when a signal is received on the input.\n\tmySignal:function(inputs,outputs) {\n\t\t// ...\n\t},\n\t\n\t// This function will be called when any of the inputs have changed\n\tchange:function(inputs,outputs) {\n\t\t// ...\n\t}\n})\n","index":1},{"name":"connect","plug":"input","type":{"name":"signal"},"group":"Inputs","index":2},{"name":"disconnect","plug":"input","type":{"name":"signal"},"group":"Inputs","index":3},{"name":"mySignal","plug":"input","type":{"name":"signal"},"group":"Inputs","index":4},{"name":"accX","type":{"name":"number"},"plug":"output","group":"Outputs","index":5},{"name":"accY","type":{"name":"number"},"plug":"output","group":"Outputs","index":6},{"name":"accZ","type":{"name":"number"},"plug":"output","group":"Outputs","index":7}],"children":[]},{"id":"3a184712-e628-3bda-7373-0e6a57dee706","type":"String Format","parameters":{"format":"X: {num}"},"ports":[{"name":"num","type":"string","plug":"input","index":2}],"children":[]},{"id":"7fa9bc3c-b0d4-ce67-c1f3-f8019f47c5c5","type":"String Format","parameters":{"format":"Y: {num}"},"ports":[{"name":"num","type":"string","plug":"input","index":2}],"children":[]},{"id":"dc73b03f-1a0f-5a29-93c0-b0b8eb263234","type":"String Format","parameters":{"format":"Z: {num}"},"ports":[{"name":"num","type":"string","plug":"input","index":2}],"children":[]}],"connections":[{"sourceId":"8a0ef493-230d-cdb2-1c43-d9f7f12e266e","sourcePort":"onClick","targetId":"82a98ee7-7a11-c3f3-69b8-8cb2b9c71c37","targetPort":"connect"},{"sourceId":"ead5d99d-9dce-6db5-2607-d8aa74154bab","sourcePort":"onClick","targetId":"82a98ee7-7a11-c3f3-69b8-8cb2b9c71c37","targetPort":"disconnect"},{"sourceId":"82a98ee7-7a11-c3f3-69b8-8cb2b9c71c37","sourcePort":"accX","targetId":"3a184712-e628-3bda-7373-0e6a57dee706","targetPort":"num"},{"sourceId":"82a98ee7-7a11-c3f3-69b8-8cb2b9c71c37","sourcePort":"accY","targetId":"7fa9bc3c-b0d4-ce67-c1f3-f8019f47c5c5","targetPort":"num"},{"sourceId":"82a98ee7-7a11-c3f3-69b8-8cb2b9c71c37","sourcePort":"accZ","targetId":"dc73b03f-1a0f-5a29-93c0-b0b8eb263234","targetPort":"num"},{"sourceId":"3a184712-e628-3bda-7373-0e6a57dee706","sourcePort":"formatted","targetId":"37d2973c-cf2f-b422-6be2-03e026bcfdb3","targetPort":"text"},{"sourceId":"7fa9bc3c-b0d4-ce67-c1f3-f8019f47c5c5","sourcePort":"formatted","targetId":"adda1db3-c1c8-87f8-e69d-3e281c54fd04","targetPort":"text"},{"sourceId":"dc73b03f-1a0f-5a29-93c0-b0b8eb263234","sourcePort":"formatted","targetId":"94b8cadb-d73b-fc34-aeda-e777c7a86a15","targetPort":"text"}],"ports":[],"roots":["eacc74e7-4dce-2baf-354b-8070e2b2b872"]},{"name":"/Mars Rover Images Data Source/Mars Rvr Images Source","nodes":[{"id":"7dc9c7de-d4f5-ad67-c1c6-2eab216c7655","type":"REST","parameters":{"code":"define({\n\t// The input ports of the REST node, name of input and type\n\tinputs:{\n\t    APIKey:'string',\n\t    sol: 'number',\n\t},\n\t\n\t// The output ports of the REST node, name of output and type\n\toutputs:{\n\t    results: 'collection'\n\t},\n\t\n\t//Add custom code to setup the request object before the request\n\t//is made.\n\t//\n\t//*request.resource     contains the resource path of the request.\n\t//*request.method       contains the method, GET, POST, PUT or DELETE.\n\t//*request.headers      is a map where you can add additional headers.\n\t//*request.parameters   is a map the parameters that will be appended\n\t//                      to the url.\n\t//*request.content      contains the content of the request as a javascript\n\t//                      object.\n\t//\n\t// The inputs and outputs maps can also be accessed via *this.inputs and\n\t// *this.outputs.\n\trequest:function(inputs,request) {\n\t    request.parameters.api_key = inputs.APIKey;\n\t    request.parameters.sol = inputs.sol;\n\t    console.log(request);\n\t},\n\t\n\t// Add custom code to convert the response content to outputs\n\t//\n\t//*response.status    The status code of the response\n\t//*response.content   The content of the response as a javascript\n\t//                    object.\n\t//*response.request   The request object that resulted in the response.\n\t//\n\t// The inputs and outputs maps can also be accessed via *this.inputs and\n\t// *this.outputs.\n\tresponse:function(outputs,response) {\n\t\n\t    console.log(response);\n\t    var items = response.content.photos;\n\n    \tvar collection = Noodl.Collection.get('MarsRoverImagesCollection');\n    \t        \n    \tcollection.set(items);     \n    \t\n    \toutputs.results = collection;\n\t}\n})\n","backendEndpoint":"https://api.nasa.gov/","resource":"mars-photos/api/v1/rovers/curiosity/photos","APIKey":"DEMO_KEY","sol":200},"ports":[{"name":"backendEndpoint","plug":"input","type":{"name":"string"},"displayName":"Endpoint","group":"Backend","index":11},{"name":"code","displayName":"Script","group":"Request","plug":"input","type":{"name":"string","allowEditOnly":true,"codeeditor":"javascript"},"default":"define({\n\t// The input ports of the REST node, name of input and type\n\tinputs:{\n\t    //ExampleInput:'number',\n\t},\n\t\n\t// The output ports of the REST node, name of output and type\n\toutputs:{\n\t    //ExampleOutput:'string',\n\t},\n\t\n\t//Add custom code to setup the request object before the request\n\t//is made.\n\t//\n\t//*request.resource     contains the resource path of the request.\n\t//*request.method       contains the method, GET, POST, PUT or DELETE.\n\t//*request.headers      is a map where you can add additional headers.\n\t//*request.parameters   is a map the parameters that will be appended\n\t//                      to the url.\n\t//*request.content      contains the content of the request as a javascript\n\t//                      object.\n\t//\n\t// The inputs and outputs maps can also be accessed via *this.inputs and\n\t// *this.outputs.\n\trequest:function(inputs,request) {\n\t},\n\t\n\t// Add custom code to convert the response content to outputs\n\t//\n\t//*response.status    The status code of the response\n\t//*response.content   The content of the response as a javascript\n\t//                    object.\n\t//*response.request   The request object that resulted in the response.\n\t//\n\t// The inputs and outputs maps can also be accessed via *this.inputs and\n\t// *this.outputs.\n\tresponse:function(outputs,response) {\n\t}\n})\n","index":12},{"name":"APIKey","plug":"input","type":{"name":"string"},"group":"Inputs","index":13},{"name":"sol","plug":"input","type":{"name":"number"},"group":"Inputs","index":14},{"name":"results","type":{"name":"collection"},"plug":"output","group":"Outputs","index":15}],"children":[]},{"id":"b78a10b2-7494-9eef-eab0-5b5aa6f079b3","type":"Component Outputs","parameters":{},"ports":[{"name":"Results","plug":"input","type":{"name":"*"},"index":1}],"children":[]},{"id":"7a3d0b5b-255d-d500-e154-5b93e7182a8e","type":"Component Inputs","parameters":{},"ports":[{"name":"Fetch","plug":"output","type":{"name":"*"},"index":1},{"name":"Sol","plug":"output","type":{"name":"*"},"index":2}],"children":[]}],"connections":[{"sourceId":"7dc9c7de-d4f5-ad67-c1c6-2eab216c7655","sourcePort":"results","targetId":"b78a10b2-7494-9eef-eab0-5b5aa6f079b3","targetPort":"Results"},{"sourceId":"7a3d0b5b-255d-d500-e154-5b93e7182a8e","sourcePort":"Fetch","targetId":"7dc9c7de-d4f5-ad67-c1c6-2eab216c7655","targetPort":"fetch"},{"sourceId":"7a3d0b5b-255d-d500-e154-5b93e7182a8e","sourcePort":"Sol","targetId":"7dc9c7de-d4f5-ad67-c1c6-2eab216c7655","targetPort":"sol"}],"ports":[{"name":"Fetch","type":{"name":"boolean","allowConnectionsOnly":true},"plug":"input"},{"name":"Results","type":{"name":"collection"},"plug":"output"},{"name":"Sol","type":{"name":"number"},"default":200,"plug":"input"}],"roots":[]},{"name":"/Mars Rover Images Data Source/Mars Rvr Image","nodes":[{"id":"bfc93455-7808-4c97-931d-91dfadc57153","type":"Model","parameters":{"properties":"camera.full_name,earth_date,img_src,camera"},"ports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"camera.full_name","index":6},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"earth_date","index":7},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"img_src","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"camera","index":9}],"children":[]},{"id":"1c25b0a0-f109-1ba6-f477-4028aa93a0fc","type":"Component Inputs","parameters":{},"ports":[{"name":"Id","plug":"output","type":{"name":"*"},"index":1}],"children":[]},{"id":"0b8ae2eb-c0c6-a8f9-d38e-c5c1bbf2af30","type":"Component Outputs","parameters":{},"ports":[{"name":"Earth Date","plug":"input","type":{"name":"*"},"index":1},{"name":"Image Src","plug":"input","type":{"name":"*"},"index":2}],"children":[]}],"connections":[{"sourceId":"1c25b0a0-f109-1ba6-f477-4028aa93a0fc","sourcePort":"Id","targetId":"bfc93455-7808-4c97-931d-91dfadc57153","targetPort":"modelId"},{"sourceId":"bfc93455-7808-4c97-931d-91dfadc57153","sourcePort":"earth_date","targetId":"0b8ae2eb-c0c6-a8f9-d38e-c5c1bbf2af30","targetPort":"Earth Date"},{"sourceId":"bfc93455-7808-4c97-931d-91dfadc57153","sourcePort":"img_src","targetId":"0b8ae2eb-c0c6-a8f9-d38e-c5c1bbf2af30","targetPort":"Image Src"}],"ports":[{"name":"Earth Date","type":"string","plug":"output"},{"name":"Id","type":"string","plug":"input"},{"name":"Image Src","type":"string","plug":"output"}],"roots":[]}],"rootComponent":"/AccTest","rootNode":"eacc74e7-4dce-2baf-354b-8070e2b2b872","metadata":{"deviceSettings":{"deviceTypes":[{"name":"Web","desc":"This is the default device that can be used to view the app from a browser.","rootComponentPath":"/Main","type":"Browser"}]},"mqtt":{},"deviceInstances":[{"deviceName":"Web","running":false,"runtime":"Browser"}]}};
</script>



<script src="noodl.js"></script>
</body>
</html>
